{"ast":null,"code":"var _jsxFileName = \"/Users/marcomazzucato/Desktop/org-chart/src/grafico/components/OrgChart.js\";\nimport React, { Component } from \"react\";\nimport { OrgChart } from \"d3-org-chart\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class OrgChartComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.createDiagram = this.createDiagram.bind(this);\n  }\n\n  componentDidMount() {\n    this.createDiagram();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    this.createDiagram();\n  }\n\n  render() {\n    console.log(\"component \" + this.props.dataTemplate);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: node => this.node = node\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 4\n    }, this);\n  }\n\n  createDiagram() {\n    const node = this.node;\n\n    if (!this.props.data) {\n      return;\n    }\n\n    if (!this.chart) {\n      this.chart = new OrgChart();\n    }\n\n    this.chart.container(node).data(this.props.data).svgWidth(500).initialZoom(1).childrenMargin(d => 40).onNodeClick(d => console.log(d + \" node clicked\")).nodeContent(function (d, i, arr, state) {\n      return `\n            <div style=\"padding-top:30px;background-color:none;margin-left:1px;height:${d.height}px;border-radius:2px;overflow:visible\">\n              <div style=\"height:${d.height - 32}px;padding-top:0px;background-color:white;border:1px solid lightgray;\">\n\n                <img src=\" ${d.data.imageUrl}\" style=\"margin-top:-30px;margin-left:${d.width / 2 - 30}px;border-radius:100px;width:60px;height:60px;\" />\n\n               <div style=\"margin-right:10px;margin-top:15px;float:right\">${d.data.id}</div>\n               \n               <div style=\"margin-top:-30px;background-color:#3AB6E3;height:10px;width:${d.width - 2}px;border-radius:1px\"></div>\n\n               <div style=\"padding:20px; padding-top:35px;text-align:center\">\n                   <div style=\"color:#111672;font-size:16px;font-weight:bold\"> ${15} </div>\n                   <div style=\"color:#404040;font-size:16px;margin-top:4px\"> ${d.data.positionName} </div>\n               </div> \n               <div style=\"display:flex;justify-content:space-between;padding-left:15px;padding-right:15px;\">\n                 <div > Manages:  ${d.data._directSubordinates} ðŸ‘¤</div>  \n                 <div > Oversees: ${d.data._totalSubordinates} ðŸ‘¤</div>    \n               </div>\n              </div>     \n      </div>\n  `;\n    }).render();\n  }\n\n}","map":{"version":3,"names":["React","Component","OrgChart","OrgChartComponent","constructor","props","createDiagram","bind","componentDidMount","componentDidUpdate","prevProps","prevState","render","console","log","dataTemplate","node","data","chart","container","svgWidth","initialZoom","childrenMargin","d","onNodeClick","nodeContent","i","arr","state","height","imageUrl","width","id","positionName","_directSubordinates","_totalSubordinates"],"sources":["/Users/marcomazzucato/Desktop/org-chart/src/grafico/components/OrgChart.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { OrgChart } from \"d3-org-chart\";\n\nexport default class OrgChartComponent extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.createDiagram = this.createDiagram.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.createDiagram();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tthis.createDiagram();\n\t}\n\n\trender() {\n\t\tconsole.log(\"component \" + this.props.dataTemplate)\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div ref={(node) => (this.node = node)} />\n\t\t\t</div>\n\t\t);\n\t}\n\n\tcreateDiagram() {\n\t\tconst node = this.node;\n    if(!this.props.data){\n      return;\n    }\n    if (!this.chart) {\n      this.chart =  new OrgChart();\n    }\n     this.chart.container(node) \n        .data(this.props.data)\n        .svgWidth(500)\n        .initialZoom(1)\n\t\t.childrenMargin((d) => 40)\n        .onNodeClick(d => console.log(d + \" node clicked\"))\n\t\t.nodeContent(function (d, i, arr, state) {\n            return `\n            <div style=\"padding-top:30px;background-color:none;margin-left:1px;height:${\n              d.height\n            }px;border-radius:2px;overflow:visible\">\n              <div style=\"height:${\n                d.height - 32\n              }px;padding-top:0px;background-color:white;border:1px solid lightgray;\">\n\n                <img src=\" ${\n                  d.data.imageUrl\n                }\" style=\"margin-top:-30px;margin-left:${d.width / 2 - 30}px;border-radius:100px;width:60px;height:60px;\" />\n\n               <div style=\"margin-right:10px;margin-top:15px;float:right\">${\n                 d.data.id\n               }</div>\n               \n               <div style=\"margin-top:-30px;background-color:#3AB6E3;height:10px;width:${\n                 d.width - 2\n               }px;border-radius:1px\"></div>\n\n               <div style=\"padding:20px; padding-top:35px;text-align:center\">\n                   <div style=\"color:#111672;font-size:16px;font-weight:bold\"> ${\n                     15\n                   } </div>\n                   <div style=\"color:#404040;font-size:16px;margin-top:4px\"> ${\n                     d.data.positionName\n                   } </div>\n               </div> \n               <div style=\"display:flex;justify-content:space-between;padding-left:15px;padding-right:15px;\">\n                 <div > Manages:  ${d.data._directSubordinates} ðŸ‘¤</div>  \n                 <div > Oversees: ${d.data._totalSubordinates} ðŸ‘¤</div>    \n               </div>\n              </div>     \n      </div>\n  `;\n          })\n        .render();\n\t}\n}"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,QAAT,QAAyB,cAAzB;;AAEA,eAAe,MAAMC,iBAAN,SAAgCF,SAAhC,CAA0C;EACxDG,WAAW,CAACC,KAAD,EAAQ;IAClB,MAAMA,KAAN;IACA,KAAKC,aAAL,GAAqB,KAAKA,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAArB;EACA;;EAEDC,iBAAiB,GAAG;IACnB,KAAKF,aAAL;EACA;;EAEDG,kBAAkB,CAACC,SAAD,EAAYC,SAAZ,EAAuB;IACxC,KAAKL,aAAL;EACA;;EAEDM,MAAM,GAAG;IACRC,OAAO,CAACC,GAAR,CAAY,eAAe,KAAKT,KAAL,CAAWU,YAAtC;IACA,oBACC;MAAA,uBACC;QAAK,GAAG,EAAGC,IAAD,IAAW,KAAKA,IAAL,GAAYA;MAAjC;QAAA;QAAA;QAAA;MAAA;IADD;MAAA;MAAA;MAAA;IAAA,QADD;EAKA;;EAEDV,aAAa,GAAG;IACf,MAAMU,IAAI,GAAG,KAAKA,IAAlB;;IACE,IAAG,CAAC,KAAKX,KAAL,CAAWY,IAAf,EAAoB;MAClB;IACD;;IACD,IAAI,CAAC,KAAKC,KAAV,EAAiB;MACf,KAAKA,KAAL,GAAc,IAAIhB,QAAJ,EAAd;IACD;;IACA,KAAKgB,KAAL,CAAWC,SAAX,CAAqBH,IAArB,EACIC,IADJ,CACS,KAAKZ,KAAL,CAAWY,IADpB,EAEIG,QAFJ,CAEa,GAFb,EAGIC,WAHJ,CAGgB,CAHhB,EAIFC,cAJE,CAIcC,CAAD,IAAO,EAJpB,EAKIC,WALJ,CAKgBD,CAAC,IAAIV,OAAO,CAACC,GAAR,CAAYS,CAAC,GAAG,eAAhB,CALrB,EAMFE,WANE,CAMU,UAAUF,CAAV,EAAaG,CAAb,EAAgBC,GAAhB,EAAqBC,KAArB,EAA4B;MAC/B,OAAQ;AACpB,wFACcL,CAAC,CAACM,MACH;AACb,mCACgBN,CAAC,CAACM,MAAF,GAAW,EACZ;AACf;AACA,6BACkBN,CAAC,CAACN,IAAF,CAAOa,QACR,yCAAwCP,CAAC,CAACQ,KAAF,GAAU,CAAV,GAAc,EAAG;AAC1E;AACA,4EACiBR,CAAC,CAACN,IAAF,CAAOe,EACR;AAChB;AACA,yFACiBT,CAAC,CAACQ,KAAF,GAAU,CACX;AAChB;AACA;AACA,iFACqB,EACD;AACpB,+EACqBR,CAAC,CAACN,IAAF,CAAOgB,YACR;AACpB;AACA;AACA,oCAAoCV,CAAC,CAACN,IAAF,CAAOiB,mBAAoB;AAC/D,oCAAoCX,CAAC,CAACN,IAAF,CAAOkB,kBAAmB;AAC9D;AACA;AACA;AACA,GAlCY;IAmCD,CA1CN,EA2CIvB,MA3CJ;EA4CH;;AA3EuD"},"metadata":{},"sourceType":"module"}