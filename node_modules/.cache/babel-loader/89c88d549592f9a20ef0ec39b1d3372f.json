{"ast":null,"code":"var _jsxFileName = \"/Users/marcomazzucato/Desktop/org-chart/src/grafico/components/OrgChart.js\";\nimport React, { Component } from \"react\";\nimport { OrgChart } from \"d3-org-chart\";\nimport user from \"./user-black-shape.png\";\nimport company from \"./home-page.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class OrgChartComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.createDiagram = this.createDiagram.bind(this);\n  }\n\n  componentDidMount() {\n    let json = this.props.dataTemplate;\n    let obj = JSON.parse(JSON.stringify(json));\n\n    for (var i = 0; i < 5; i++) {\n      obj.shareHolders[i].nodeId = i;\n      obj.shareHolders[i].nodeId == 0 ? obj.shareHolders[i].parentNodeId = null : obj.shareHolders[i].parentNodeId = prevParent;\n      var prevParent = obj.shareHolders[i].nodeId;\n    }\n\n    console.log(obj);\n    var arrData = Object.values(obj);\n    console.log(arrData);\n    var newData = arrData[0].map((d, i) => {\n      console.log(d.parentNodeId, d.nodeId);\n      const width = 350; //Math.round(Math.random()*50+300);\n\n      const height = 160; // Math.round(Math.random()*20+130);\n\n      const cornerShape = 'ORIGINAL'; //['ORIGINAL','ROUNDED','CIRCLE']\n\n      const nodeImageWidth = 100;\n      const nodeImageHeight = 100;\n      const centerTopDistance = 0;\n      const centerLeftDistance = 0;\n      const expanded = false; //d.id==\"O-6\"\n\n      const titleMarginLeft = nodeImageWidth / 2 + 20 + centerLeftDistance;\n      const contentMarginLeft = width / 2 + 25;\n      return {\n        nodeId: d.nodeId,\n        parentNodeId: d.parentNodeId,\n        width: width,\n        height: height,\n        borderWidth: 0.6,\n        borderRadius: 0,\n        borderColor: {\n          red: 15,\n          green: 140,\n          blue: 121,\n          alpha: 0.7\n        },\n        backgroundColor: {\n          red: 247,\n          green: 247,\n          blue: 249,\n          alpha: 0.4\n        },\n        nodeIcon: {\n          size: 50\n        },\n        nodeImage: {\n          url: d.imageUrl,\n          width: nodeImageWidth,\n          height: nodeImageHeight,\n          centerTopDistance: 66,\n          centerLeftDistance: 66,\n          cornerShape: 'CIRCLE',\n          // ORIGINAL,CIRCLE\n          shadow: false,\n          borderWidth: 0,\n          borderColor: {\n            red: 19,\n            green: 123,\n            blue: 128,\n            alpha: 0\n          }\n        },\n        template: `<div style=\"color:#2A2A2A;height:160px;margin-top:-30px;background-image: linear-gradient(to right , #FFFFFF, #ECEDF0);\">\n                      <div style=\"margin-left:${titleMarginLeft + 77}px;\n                                  margin-top:30px;\n                                  padding-top:20px;\n                                  font-size:20px;\n                                  font-weight:bold;\n                            \">placeHolder </div>\n                    <div style=\"margin-left:${titleMarginLeft + 77}px;\n                                  margin-top:3px;\n                                  font-size:16px;\n                            \">placeHolder </div>\n\n                    <div style=\"margin-left:${titleMarginLeft + 77}px;\n                                  margin-top:3px;\n                                  font-size:14px;\n                            \">placeHolder</div>\n\n                    <div style=\"margin-left:${contentMarginLeft + 70}px;\n                                margin-top:15px;\n                                font-size:13px;\n                                position:absolute;\n                                bottom:5px;\n                                \">\n                          <div>placeHolder</div>\n                          <div style=\"margin-top:5px\">placeHolder</div>\n                    </div>\n                  </div>`,\n        connectorLineColor: {\n          red: 59,\n          green: 60,\n          blue: 63,\n          alpha: 1\n        },\n        connectorLineWidth: 2,\n        dashArray: '',\n        expanded: expanded\n      };\n    });\n    this.createDiagram();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    this.createDiagram();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: node => this.node = node\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 4\n    }, this);\n  }\n\n  createDiagram() {\n    const node = this.node;\n\n    if (!this.props.data) {\n      return;\n    }\n\n    if (!this.chart) {\n      this.chart = new OrgChart();\n    }\n\n    this.chart.container(node).data(this.props.data).svgWidth(500).initialZoom(1).nodeHeight(d => 180).childrenMargin(d => 40).onNodeClick(d => console.log(d + \" node clicked\")).nodeContent(function (d, i, arr, state) {\n      if (i == 0) {\n        return `\n            <div style=\"padding-top:30px;background-color:none;margin-left:1px;height:${d.height}px;border-radius:2px;overflow:visible\">\n              <div style=\"height:${d.height - 32}px;padding-top:0px;background-color:white;border:3px solid lightblue;border-radius:3%\">\n\n                <img src=\"${company}\" style=\"margin-top:-30px;margin-left:${d.width / 2 - 30}px;border-radius:0px;width:60px;height:60px;\" />\n              \n              <div style=\"margin-top:-30px;background-color:none;height:10px;width:${d.width - 2}px;border-radius:1px\"></div>\n\n              <div style=\"padding:20px; padding-top:50px;text-align:center\">\n                  <div style=\"color:#111672;font-size:25px;font-weight:bold\"> ISOKIT S.R.L </div>\n              </div> \n              </div>     \n      </div>\n      `;\n      }\n\n      return `\n            <div style=\"padding-top:30px;background-color:none;margin-left:1px;height:${d.height}px;border-radius:2px;overflow:visible\">\n              <div style=\"height:${d.height - 32}px;padding-top:0px;background-color:white;border:3px solid lightblue;border-radius:3%\">\n\n                <img src=\"${user}\" style=\"margin-top:-30px;margin-left:${d.width / 2 - 30}px;border-radius:0px;width:60px;height:60px;\" />\n               \n               <div style=\"margin-top:-30px;background-color:none;height:10px;width:${d.width - 2}px;border-radius:1px\"></div>\n\n               <div style=\"padding:20px; padding-top:35px;text-align:center\">\n                   <div style=\"color:#111672;font-size:25px;font-weight:bold\"> Nome Cognome </div>\n                   <div style=\"color:#404040;font-size:19px;margin-top:4px\"> Ruolo </div>\n               </div> \n               <div style=\"display:flex;justify-content:center;padding-left:15px;padding-right:15px;\">\n\t\t\t   <div > Quota: ${i} %</div>    \n               </div>\n              </div>     \n      </div>\n  `;\n    }).render();\n  }\n\n}","map":{"version":3,"names":["React","Component","OrgChart","user","company","OrgChartComponent","constructor","props","createDiagram","bind","componentDidMount","json","dataTemplate","obj","JSON","parse","stringify","i","shareHolders","nodeId","parentNodeId","prevParent","console","log","arrData","Object","values","newData","map","d","width","height","cornerShape","nodeImageWidth","nodeImageHeight","centerTopDistance","centerLeftDistance","expanded","titleMarginLeft","contentMarginLeft","borderWidth","borderRadius","borderColor","red","green","blue","alpha","backgroundColor","nodeIcon","size","nodeImage","url","imageUrl","shadow","template","connectorLineColor","connectorLineWidth","dashArray","componentDidUpdate","prevProps","prevState","render","node","data","chart","container","svgWidth","initialZoom","nodeHeight","childrenMargin","onNodeClick","nodeContent","arr","state"],"sources":["/Users/marcomazzucato/Desktop/org-chart/src/grafico/components/OrgChart.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { OrgChart } from \"d3-org-chart\";\nimport user from \"./user-black-shape.png\";\nimport company from \"./home-page.png\";\n\n\nexport default class OrgChartComponent extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.createDiagram = this.createDiagram.bind(this);\n\t}\n\n\tcomponentDidMount() {\n    let json = this.props.dataTemplate;\n    let obj = JSON.parse(JSON.stringify(json));\n    for(var i=0; i<5; i++){\n      obj.shareHolders[i].nodeId = i ;\n      obj.shareHolders[i].nodeId == 0 ? obj.shareHolders[i].parentNodeId = null : obj.shareHolders[i].parentNodeId = prevParent;\n      var prevParent = obj.shareHolders[i].nodeId;\n    }\n    console.log(obj);\n\n    var arrData = Object.values(obj);\n    console.log(arrData);\n    var newData = arrData[0].map((d, i)=>{\n      console.log(d.parentNodeId, d.nodeId);\n      const width =  350 //Math.round(Math.random()*50+300);\n      const height = 160 // Math.round(Math.random()*20+130);\n      const cornerShape = 'ORIGINAL'; //['ORIGINAL','ROUNDED','CIRCLE']\n      const nodeImageWidth = 100;\n      const nodeImageHeight = 100;\n      const centerTopDistance = 0;\n      const centerLeftDistance = 0;\n      const expanded = false; //d.id==\"O-6\"\n      \n      const  titleMarginLeft = nodeImageWidth/2+20+centerLeftDistance\n      const  contentMarginLeft = width/2+25\n      return {\n        nodeId:d.nodeId,\n        parentNodeId:d.parentNodeId,\n        width:width,\n        height:height,\n        borderWidth:0.6,\n        borderRadius:0,\n        borderColor:{\n            red:15,\n            green:140,\n            blue:121,\n            alpha:0.7,\n        },\n        backgroundColor:{\n          red:247,\n          green:247,\n          blue:249,\n          alpha:0.4,\n        },\n        nodeIcon:{\n          size:50,\n        },\n        nodeImage:{\n          url:d.imageUrl,\n          width:nodeImageWidth,\n          height:nodeImageHeight,\n          centerTopDistance:66,\n          centerLeftDistance:66, \n          cornerShape:'CIRCLE', // ORIGINAL,CIRCLE\n          shadow:false,\n          borderWidth:0,\n          borderColor:{\n            red:19,\n            green:123,\n            blue:128,\n            alpha:0,\n          },\n        },\n        template:`<div style=\"color:#2A2A2A;height:160px;margin-top:-30px;background-image: linear-gradient(to right , #FFFFFF, #ECEDF0);\">\n                      <div style=\"margin-left:${titleMarginLeft+77}px;\n                                  margin-top:30px;\n                                  padding-top:20px;\n                                  font-size:20px;\n                                  font-weight:bold;\n                            \">placeHolder </div>\n                    <div style=\"margin-left:${titleMarginLeft+77}px;\n                                  margin-top:3px;\n                                  font-size:16px;\n                            \">placeHolder </div>\n\n                    <div style=\"margin-left:${titleMarginLeft+77}px;\n                                  margin-top:3px;\n                                  font-size:14px;\n                            \">placeHolder</div>\n\n                    <div style=\"margin-left:${contentMarginLeft+70}px;\n                                margin-top:15px;\n                                font-size:13px;\n                                position:absolute;\n                                bottom:5px;\n                                \">\n                          <div>placeHolder</div>\n                          <div style=\"margin-top:5px\">placeHolder</div>\n                    </div>\n                  </div>`,\n        connectorLineColor:{\n          red:59,\n          green:60,\n          blue:63,\n          alpha:1\n        },\n        connectorLineWidth:2,\n        dashArray:'',\n        expanded:expanded}\n        })\n\n\n\t\tthis.createDiagram();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tthis.createDiagram();\n\t}\n\n\trender() {\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div ref={(node) => (this.node = node)} />\n\t\t\t</div>\n\t\t);\n\t}\n\n\tcreateDiagram() {\n\t\tconst node = this.node;\n    if(!this.props.data){\n      return;\n    }\n    if (!this.chart) {\n      this.chart =  new OrgChart();\n    }\n     this.chart.container(node) \n        .data(this.props.data)\n        .svgWidth(500)\n        .initialZoom(1)\n\t\t.nodeHeight(d=> 180)\n\t\t.childrenMargin((d) => 40)\n        .onNodeClick(d => console.log(d + \" node clicked\"))\n\t\t.nodeContent(function (d, i, arr, state) {\n      if(i==0)\n            {return `\n            <div style=\"padding-top:30px;background-color:none;margin-left:1px;height:${\n              d.height\n            }px;border-radius:2px;overflow:visible\">\n              <div style=\"height:${\n                d.height - 32\n              }px;padding-top:0px;background-color:white;border:3px solid lightblue;border-radius:3%\">\n\n                <img src=\"${company}\" style=\"margin-top:-30px;margin-left:${d.width / 2 - 30}px;border-radius:0px;width:60px;height:60px;\" />\n              \n              <div style=\"margin-top:-30px;background-color:none;height:10px;width:${\n                d.width - 2\n              }px;border-radius:1px\"></div>\n\n              <div style=\"padding:20px; padding-top:50px;text-align:center\">\n                  <div style=\"color:#111672;font-size:25px;font-weight:bold\"> ISOKIT S.R.L </div>\n              </div> \n              </div>     \n      </div>\n      `}\n            return `\n            <div style=\"padding-top:30px;background-color:none;margin-left:1px;height:${\n              d.height\n            }px;border-radius:2px;overflow:visible\">\n              <div style=\"height:${\n                d.height - 32\n              }px;padding-top:0px;background-color:white;border:3px solid lightblue;border-radius:3%\">\n\n                <img src=\"${user}\" style=\"margin-top:-30px;margin-left:${d.width / 2 - 30}px;border-radius:0px;width:60px;height:60px;\" />\n               \n               <div style=\"margin-top:-30px;background-color:none;height:10px;width:${\n                 d.width - 2\n               }px;border-radius:1px\"></div>\n\n               <div style=\"padding:20px; padding-top:35px;text-align:center\">\n                   <div style=\"color:#111672;font-size:25px;font-weight:bold\"> Nome Cognome </div>\n                   <div style=\"color:#404040;font-size:19px;margin-top:4px\"> Ruolo </div>\n               </div> \n               <div style=\"display:flex;justify-content:center;padding-left:15px;padding-right:15px;\">\n\t\t\t   <div > Quota: ${i} %</div>    \n               </div>\n              </div>     \n      </div>\n  `;\n          })\n        .render();\n\t}\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}