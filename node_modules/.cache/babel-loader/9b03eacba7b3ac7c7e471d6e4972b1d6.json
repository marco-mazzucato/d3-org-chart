{"ast":null,"code":"var _jsxFileName = \"/Users/marcomazzucato/Desktop/org-chart/src/grafico/components/OrgChart.js\";\nimport React, { Component } from \"react\";\nimport { OrgChart } from \"d3-org-chart\";\nimport user from \"./user-black-shape.png\";\nimport company from \"./home-page.png\";\nimport * as d3 from 'd3';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class OrgChartComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.createDiagram = this.createDiagram.bind(this);\n  }\n\n  componentDidMount() {\n    this.createDiagram();\n  }\n  /*componentDidUpdate(prevProps, prevState) {\n  \tthis.createDiagram();\n  }*/\n\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: node => this.node = node\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 4\n    }, this);\n  }\n\n  createDiagram() {\n    let array = this.props.data;\n    const azienda = {\n      name: \"ISOKIT S.R.L.\",\n      nodeId: 1,\n      parentNodeId: null\n    }; //prendere il nome dal json\n\n    const shareholders = {\n      name: \"PROPRIETARI\",\n      nodeId: 2,\n      parentNodeId: 1\n    };\n    const directors = {\n      name: \"DIRETTORI\",\n      nodeId: 3,\n      parentNodeId: 1\n    };\n    array = [azienda, shareholders, directors, ...array];\n\n    for (var i = 3; i < 13; i++) {\n      //sistemare\n      array[i].nodeId = i + 4;\n\n      if (i < 8) {\n        array[i].parentNodeId = 2;\n        array[i].chiave = \"prop\";\n      } else {\n        array[i].parentNodeId = 3;\n        array[i].chiave = \"dir\";\n      }\n    }\n\n    var newData = array.map(d => {\n      const width = 350;\n      const height = 160;\n      const cornerShape = 'ORIGINAL';\n      const nodeImageWidth = 100;\n      const nodeImageHeight = 100;\n      const centerTopDistance = 0;\n      const centerLeftDistance = 0;\n      const expanded = false;\n      const titleMarginLeft = nodeImageWidth / 2 + 20 + centerLeftDistance;\n      const contentMarginLeft = width / 2 + 25;\n      var ritorno = {\n        nodeId: d.nodeId,\n        parentNodeId: d.parentNodeId,\n        name: d.name,\n        width: width,\n        height: height,\n        borderWidth: 0.6,\n        borderRadius: 0,\n        borderColor: {\n          red: 15,\n          green: 140,\n          blue: 121,\n          alpha: 0.7\n        },\n        backgroundColor: {\n          red: 247,\n          green: 247,\n          blue: 249,\n          alpha: 0.4\n        },\n        //da controllare quali div togliere\n        template: `<div style=\"color:#2A2A2A;height:160px;margin-top:-30px;background-image: linear-gradient(to right , #FFFFFF, #ECEDF0);\">\n                      <div style=\"margin-left:${titleMarginLeft + 77}px;\n                                  margin-top:30px;\n                                  padding-top:20px;\n                                  font-size:20px;\n                                  font-weight:bold;\n                            \">${d.name} </div>\n                    <div style=\"margin-left:${titleMarginLeft + 77}px;\n                                  margin-top:3px;\n                                  font-size:16px;\n                            \">placeHolder </div>\n\n                    <div style=\"margin-left:${titleMarginLeft + 77}px;\n                                  margin-top:3px;\n                                  font-size:14px;\n                            \">placeHolder</div>\n\n                    <div style=\"margin-left:${contentMarginLeft + 70}px;\n                                margin-top:15px;\n                                font-size:13px;\n                                position:absolute;\n                                bottom:5px;\n                                \">\n                          <div>placeHolder</div>\n                          <div style=\"margin-top:5px\">placeHolder</div>\n                    </div>\n                  </div>`,\n        connectorLineColor: {\n          red: 59,\n          green: 60,\n          blue: 63,\n          alpha: 1\n        },\n        connectorLineWidth: 2,\n        dashArray: '',\n        expanded: expanded\n      }; //inserisci qui i campi necessari dal json\n\n      if (d.chiave == \"prop\") {\n        ritorno.type = d.shareholderType;\n        ritorno.chiave = d.chiave;\n        ritorno.firstName = d.firstName;\n        ritorno.surname = d.surname;\n        ritorno.fisc = d.id;\n        ritorno.address = d.address.simpleValue;\n        ritorno.percent = d.percentSharesHeld;\n        ritorno.type = d.shareholderType;\n      }\n\n      if (d.chiave == \"dir\") {\n        ritorno.chiave = d.chiave;\n        ritorno.firstName = d.firstName;\n        ritorno.surname = d.surname;\n        ritorno.fisc = d.id;\n        ritorno.address = d.address.simpleValue;\n        ritorno.luogoNascita = d.placeOfBirth;\n        ritorno.dataNascita = d.dateOfBirth;\n        ritorno.role = d.positions[0].positionName;\n      }\n\n      return ritorno;\n    });\n    const node = this.node;\n\n    if (!newData) {\n      return;\n    }\n\n    if (!this.chart) {\n      this.chart = new OrgChart();\n    }\n\n    this.chart.container(node).data(newData).svgWidth(500).initialZoom(0.8).nodeHeight(d => 160).nodeWidth(d => 300).childrenMargin(d => 40).onNodeClick(d => console.log(this)).buttonContent(_ref => {\n      let {\n        node,\n        state\n      } = _ref;\n      return `<div style=\"color:#2CAAE5;border-radius:5px;padding:3px;font-size:10px;margin:auto auto;background-color:#040910;border: 1px solid #2CAAE5\"> <span style=\"font-size:9px\">${node.children ? `<i class=\"fas fa-angle-up\"></i>` : `<i class=\"fas fa-angle-down\"></i>`}</span> ${node.data._directSubordinates}  </div>`;\n    }).linkUpdate(function (d, i, arr) {\n      d3.select(this).attr('stroke', d => d.data._upToTheRootHighlighted ? '#14760D' : '#2CAAE5').attr('stroke-width', d => d.data._upToTheRootHighlighted ? 15 : 1);\n\n      if (d.data._upToTheRootHighlighted) {\n        d3.select(this).raise();\n      }\n    }).nodeContent(function (d, i, arr, state) {\n      if (i == 0) {\n        return `\n                <div style=\"padding-top:30px;background-color:none;margin-left:1px;height:${d.height}px;border-radius:2px;overflow:visible\">\n                  <div style=\"box-shadow:10px 10px 10px #C2C3C4;height:${d.height - 32}px;padding-top:0px;background-color:white;border-radius:3%\">\n\n                    <img src=\"${company}\" style=\"margin-top:-30px;margin-left:${d.width / 2 - 30}px;border-radius:100px;width:60px;height:60px;\" />\n                  \n                  <div style=\"margin-top:-30px;background-color:none;height:10px;width:${d.width - 2}px;border-radius:1px\"></div>\n\n                  <div style=\"padding:20px; padding-top:40px;text-align:center\">\n                      <div style=\"color:black;font-size:30px;font-weight:bold\"> ${d.data.name} </div>\n                  </div> \n                  </div>     \n          </div>\n          `;\n      }\n\n      if (i == 1) {\n        return `\n                <div style=\"padding-top:30px;background-color:none;margin-left:1px;height:${d.height}px;border-radius:2px;overflow:visible\">\n                  <div style=\"box-shadow:10px 10px 10px #C2C3C4;height:${d.height - 32}px;padding-top:0px;background-color:white;border-radius:3%\">\n\n                    <img src=\"${user}\" style=\"margin-top:-30px;margin-left:${d.width / 2 - 30}px;border-radius:100px;width:60px;height:60px;\" />\n                  \n                  <div style=\"margin-top:-38px;background-color:none;height:10px;width:${d.width - 2}px;border-radius:1px\"></div>\n\n                  <div style=\"padding:20px; padding-top:40px;text-align:center\">\n                      <div style=\"color:black;font-size:25px;font-weight:bold\"> ${d.data.name} </div>\n                      <div style=\"color:#404040;font-size:14px;margin-top:10px\">Numero proprietari: ${d.data._directSubordinates} </div>\n                  </div> \n                  </div>     \n          </div>\n          `;\n      }\n\n      if (i == 2) {\n        return `\n              <div style=\"padding-top:30px;background-color:none;margin-left:1px;height:${d.height}px;border-radius:2px;overflow:visible\">\n                <div style=\"box-shadow:10px 10px 10px #C2C3C4;height:${d.height - 32}px;padding-top:0px;background-color:white;border-radius:3%\">\n\n                  <img src=\"${user}\" style=\"margin-top:-30px;margin-left:${d.width / 2 - 30}px;border-radius:100px;width:60px;height:60px;\" />\n                \n                <div style=\"margin-top:-38px;background-color:none;height:10px;width:${d.width - 2}px;border-radius:1px\"></div>\n\n                <div style=\"padding:20px; padding-top:40px;text-align:center\">\n                    <div style=\"color:black;font-size:25px;font-weight:bold\"> ${d.data.name} </div>\n                    <div style=\"color:#404040;font-size:14px;margin-top:10px\">Numero direttori: ${d.data._directSubordinates} </div>\n                </div> \n                </div>     \n        </div>\n        `;\n      }\n\n      if (d.data.chiave == \"prop\") {\n        return `\n              <div style=\"padding-top:30px;background-color:none;margin-left:1px;height:${d.height}px;border-radius:2px;overflow:visible\">\n                <div style=\"box-shadow:10px 10px 10px #C2C3C4;height:${d.height - 32}px;padding-top:0px;background-color:white;border-radius:3%\">\n\n                  <img src=\" ${user}\" style=\"margin-top:-30px;margin-left:${d.width / 2 - 30}px;border-radius:100px;width:60px;height:60px;\" />\n\n                <div style=\"padding:10px; padding-top:10px;text-align:center\">\n                    <div style=\"color:#5890f8;font-size:20px;font-weight:bold;margin-bottom:10px\"> ${d.data.name} </div>\n                    <div style=\"color:#404040;font-size:14px;margin-top:15px\"> Quota: ${d.data.percent}%</div>\n                </div>    \n          </div>\n        `;\n      }\n\n      return `\n              <div style=\"padding-top:30px;background-color:none;margin-left:1px;height:${d.height}px;border-radius:2px;overflow:visible\">\n                <div style=\"box-shadow:10px 10px 10px #C2C3C4;height:${d.height - 32}px;padding-top:0px;background-color:white;border-radius:3%\">\n\n                  <img src=\" ${user}\" style=\"margin-top:-30px;margin-left:${d.width / 2 - 30}px;border-radius:100px;width:60px;height:60px;\" />\n\n                <div style=\"padding:10px; padding-top:10px;text-align:center\">\n                    <div style=\"color:#5890f8;font-size:20px;font-weight:bold;margin-bottom:10px\"> ${d.data.name} </div>\n                    <div style=\"color:#404040;font-size:14px;margin-top:15px\"> ${d.data.role} </div>\n                </div>    \n          </div>\n        `;\n    }).render();\n  }\n\n}","map":{"version":3,"names":["React","Component","OrgChart","user","company","d3","OrgChartComponent","constructor","props","createDiagram","bind","componentDidMount","render","node","array","data","azienda","name","nodeId","parentNodeId","shareholders","directors","i","chiave","newData","map","d","width","height","cornerShape","nodeImageWidth","nodeImageHeight","centerTopDistance","centerLeftDistance","expanded","titleMarginLeft","contentMarginLeft","ritorno","borderWidth","borderRadius","borderColor","red","green","blue","alpha","backgroundColor","template","connectorLineColor","connectorLineWidth","dashArray","type","shareholderType","firstName","surname","fisc","id","address","simpleValue","percent","percentSharesHeld","luogoNascita","placeOfBirth","dataNascita","dateOfBirth","role","positions","positionName","chart","container","svgWidth","initialZoom","nodeHeight","nodeWidth","childrenMargin","onNodeClick","console","log","buttonContent","state","children","_directSubordinates","linkUpdate","arr","select","attr","_upToTheRootHighlighted","raise","nodeContent"],"sources":["/Users/marcomazzucato/Desktop/org-chart/src/grafico/components/OrgChart.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { OrgChart } from \"d3-org-chart\";\nimport user from \"./user-black-shape.png\";\nimport company from \"./home-page.png\";\nimport * as d3 from 'd3';\n\n\nexport default class OrgChartComponent extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.createDiagram = this.createDiagram.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.createDiagram();\n\t}\n\n\t/*componentDidUpdate(prevProps, prevState) {\n\t\tthis.createDiagram();\n\t}*/\n\n\trender() {\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div ref={(node) => (this.node = node)} />\n\t\t\t</div>\n\t\t);\n\t}\n\n\tcreateDiagram() {\n    let array = this.props.data;\n\n    const azienda = {name: \"ISOKIT S.R.L.\", nodeId: 1, parentNodeId: null};//prendere il nome dal json\n    const shareholders = {name: \"PROPRIETARI\", nodeId: 2, parentNodeId: 1};\n    const directors = {name: \"DIRETTORI\", nodeId: 3, parentNodeId: 1};\n    array = [ azienda, shareholders, directors, ...array];\n\n    for(var i=3; i<13; i++){//sistemare\n      array[i].nodeId = i+4;\n      if(i<8)\n        {array[i].parentNodeId = 2;\n        array[i].chiave=\"prop\";}\n      else\n        {array[i].parentNodeId = 3;\n        array[i].chiave=\"dir\";}\n    }\n\n    var newData = array.map((d)=>{\n      const width =  350\n      const height = 160 \n      const cornerShape = 'ORIGINAL'; \n      const nodeImageWidth = 100;\n      const nodeImageHeight = 100;\n      const centerTopDistance = 0;\n      const centerLeftDistance = 0;\n      const expanded = false;\n      const  titleMarginLeft = nodeImageWidth/2+20+centerLeftDistance;\n      const  contentMarginLeft = width/2+25;\n      var ritorno = {\n        nodeId:d.nodeId,\n        parentNodeId:d.parentNodeId,\n        name:d.name,\n        width:width,\n        height:height,\n        borderWidth:0.6,\n        borderRadius:0,\n        borderColor:{\n            red:15,\n            green:140,\n            blue:121,\n            alpha:0.7,\n        },\n        backgroundColor:{\n          red:247,\n          green:247,\n          blue:249,\n          alpha:0.4,\n        },\n        //da controllare quali div togliere\n        template:`<div style=\"color:#2A2A2A;height:160px;margin-top:-30px;background-image: linear-gradient(to right , #FFFFFF, #ECEDF0);\">\n                      <div style=\"margin-left:${titleMarginLeft+77}px;\n                                  margin-top:30px;\n                                  padding-top:20px;\n                                  font-size:20px;\n                                  font-weight:bold;\n                            \">${d.name} </div>\n                    <div style=\"margin-left:${titleMarginLeft+77}px;\n                                  margin-top:3px;\n                                  font-size:16px;\n                            \">placeHolder </div>\n\n                    <div style=\"margin-left:${titleMarginLeft+77}px;\n                                  margin-top:3px;\n                                  font-size:14px;\n                            \">placeHolder</div>\n\n                    <div style=\"margin-left:${contentMarginLeft+70}px;\n                                margin-top:15px;\n                                font-size:13px;\n                                position:absolute;\n                                bottom:5px;\n                                \">\n                          <div>placeHolder</div>\n                          <div style=\"margin-top:5px\">placeHolder</div>\n                    </div>\n                  </div>`,\n        connectorLineColor:{\n          red:59,\n          green:60,\n          blue:63,\n          alpha:1\n        },\n        connectorLineWidth:2,\n        dashArray:'',\n        expanded:expanded}\n        //inserisci qui i campi necessari dal json\n        if(d.chiave == \"prop\"){\n          ritorno.type = d.shareholderType;\n          ritorno.chiave = d.chiave;\n          ritorno.firstName = d.firstName;\n          ritorno.surname = d.surname;\n          ritorno.fisc = d.id;\n          ritorno.address = d.address.simpleValue;\n          ritorno.percent = d.percentSharesHeld;\n          ritorno.type = d.shareholderType;\n        }\n        if(d.chiave == \"dir\"){\n          ritorno.chiave = d.chiave;\n          ritorno.firstName = d.firstName;\n          ritorno.surname = d.surname;\n          ritorno.fisc = d.id;\n          ritorno.address = d.address.simpleValue;\n          ritorno.luogoNascita = d.placeOfBirth;\n          ritorno.dataNascita = d.dateOfBirth;\n          ritorno.role = d.positions[0].positionName;\n        }\n\n      return ritorno;\n\n        });\n\n\t\tconst node = this.node;\n    if(!newData){\n      return;\n    }\n    if (!this.chart) {\n      this.chart =  new OrgChart();\n    }\n     this.chart.container(node) \n        .data(newData)\n        .svgWidth(500)\n        .initialZoom(0.8)\n\t\t    .nodeHeight(d=> 160)\n        .nodeWidth(d=> 300)\n\t\t    .childrenMargin((d) => 40)\n        .onNodeClick(d => console.log(this))\n        .buttonContent(({ node, state }) => {\n          return `<div style=\"color:#2CAAE5;border-radius:5px;padding:3px;font-size:10px;margin:auto auto;background-color:#040910;border: 1px solid #2CAAE5\"> <span style=\"font-size:9px\">${\n            node.children\n              ? `<i class=\"fas fa-angle-up\"></i>`\n              : `<i class=\"fas fa-angle-down\"></i>`\n          }</span> ${node.data._directSubordinates}  </div>`;\n        })\n        .linkUpdate(function (d, i, arr) {\n          d3.select(this)\n            .attr('stroke', (d) =>\n              d.data._upToTheRootHighlighted ? '#14760D' : '#2CAAE5'\n            )\n            .attr('stroke-width', (d) =>\n              d.data._upToTheRootHighlighted ? 15 : 1\n            );\n\n          if (d.data._upToTheRootHighlighted) {\n            d3.select(this).raise();\n          }\n        })\n        .nodeContent(function (d, i, arr, state) {\n          if(i==0){\n              return `\n                <div style=\"padding-top:30px;background-color:none;margin-left:1px;height:${d.height}px;border-radius:2px;overflow:visible\">\n                  <div style=\"box-shadow:10px 10px 10px #C2C3C4;height:${d.height - 32}px;padding-top:0px;background-color:white;border-radius:3%\">\n\n                    <img src=\"${company}\" style=\"margin-top:-30px;margin-left:${d.width / 2 - 30}px;border-radius:100px;width:60px;height:60px;\" />\n                  \n                  <div style=\"margin-top:-30px;background-color:none;height:10px;width:${d.width - 2}px;border-radius:1px\"></div>\n\n                  <div style=\"padding:20px; padding-top:40px;text-align:center\">\n                      <div style=\"color:black;font-size:30px;font-weight:bold\"> ${d.data.name} </div>\n                  </div> \n                  </div>     \n          </div>\n          `}\n          if(i==1){\n              return `\n                <div style=\"padding-top:30px;background-color:none;margin-left:1px;height:${d.height}px;border-radius:2px;overflow:visible\">\n                  <div style=\"box-shadow:10px 10px 10px #C2C3C4;height:${d.height - 32}px;padding-top:0px;background-color:white;border-radius:3%\">\n\n                    <img src=\"${user}\" style=\"margin-top:-30px;margin-left:${d.width / 2 - 30}px;border-radius:100px;width:60px;height:60px;\" />\n                  \n                  <div style=\"margin-top:-38px;background-color:none;height:10px;width:${d.width - 2}px;border-radius:1px\"></div>\n\n                  <div style=\"padding:20px; padding-top:40px;text-align:center\">\n                      <div style=\"color:black;font-size:25px;font-weight:bold\"> ${d.data.name} </div>\n                      <div style=\"color:#404040;font-size:14px;margin-top:10px\">Numero proprietari: ${d.data._directSubordinates} </div>\n                  </div> \n                  </div>     \n          </div>\n          `}\n          if(i==2){\n            return `\n              <div style=\"padding-top:30px;background-color:none;margin-left:1px;height:${d.height}px;border-radius:2px;overflow:visible\">\n                <div style=\"box-shadow:10px 10px 10px #C2C3C4;height:${d.height - 32}px;padding-top:0px;background-color:white;border-radius:3%\">\n\n                  <img src=\"${user}\" style=\"margin-top:-30px;margin-left:${d.width / 2 - 30}px;border-radius:100px;width:60px;height:60px;\" />\n                \n                <div style=\"margin-top:-38px;background-color:none;height:10px;width:${d.width - 2}px;border-radius:1px\"></div>\n\n                <div style=\"padding:20px; padding-top:40px;text-align:center\">\n                    <div style=\"color:black;font-size:25px;font-weight:bold\"> ${d.data.name} </div>\n                    <div style=\"color:#404040;font-size:14px;margin-top:10px\">Numero direttori: ${d.data._directSubordinates} </div>\n                </div> \n                </div>     \n        </div>\n        `}\n              if(d.data.chiave==\"prop\"){\n                return `\n              <div style=\"padding-top:30px;background-color:none;margin-left:1px;height:${d.height}px;border-radius:2px;overflow:visible\">\n                <div style=\"box-shadow:10px 10px 10px #C2C3C4;height:${d.height - 32}px;padding-top:0px;background-color:white;border-radius:3%\">\n\n                  <img src=\" ${user}\" style=\"margin-top:-30px;margin-left:${d.width / 2 - 30}px;border-radius:100px;width:60px;height:60px;\" />\n\n                <div style=\"padding:10px; padding-top:10px;text-align:center\">\n                    <div style=\"color:#5890f8;font-size:20px;font-weight:bold;margin-bottom:10px\"> ${d.data.name} </div>\n                    <div style=\"color:#404040;font-size:14px;margin-top:15px\"> Quota: ${d.data.percent}%</div>\n                </div>    \n          </div>\n        `}\n        return `\n              <div style=\"padding-top:30px;background-color:none;margin-left:1px;height:${d.height}px;border-radius:2px;overflow:visible\">\n                <div style=\"box-shadow:10px 10px 10px #C2C3C4;height:${d.height - 32}px;padding-top:0px;background-color:white;border-radius:3%\">\n\n                  <img src=\" ${user}\" style=\"margin-top:-30px;margin-left:${d.width / 2 - 30}px;border-radius:100px;width:60px;height:60px;\" />\n\n                <div style=\"padding:10px; padding-top:10px;text-align:center\">\n                    <div style=\"color:#5890f8;font-size:20px;font-weight:bold;margin-bottom:10px\"> ${d.data.name} </div>\n                    <div style=\"color:#404040;font-size:14px;margin-top:15px\"> ${d.data.role} </div>\n                </div>    \n          </div>\n        `\n        ;})\n        .render();\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}