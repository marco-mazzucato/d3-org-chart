{"ast":null,"code":"var _jsxFileName = \"/Users/marcomazzucato/Desktop/org-chart/src/grafico/components/OrgChart.js\";\nimport React, { Component } from \"react\";\nimport { OrgChart } from \"d3-org-chart\";\nimport user from \"./user-black-shape.png\";\nimport company from \"./home-page.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class OrgChartComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.createDiagram = this.createDiagram.bind(this);\n  }\n\n  componentDidMount() {\n    let json = this.props.dataTemplate;\n    const obj = JSON.parse(JSON.stringify(json));\n\n    for (var i = 0; i < 5; i++) {\n      obj.shareHolders[i].id = i;\n      obj.shareHolders[i].parentId = i - 1;\n    }\n\n    console.log(obj);\n    this.createDiagram();\n    console.log(this.props.dataTemplate.shareHolders);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    this.createDiagram();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: node => this.node = node\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 4\n    }, this);\n  }\n\n  createDiagram() {\n    const node = this.node;\n\n    if (!this.props.data) {\n      return;\n    }\n\n    if (!this.chart) {\n      this.chart = new OrgChart();\n    }\n\n    this.chart.container(node).data(this.props.data).svgWidth(500).initialZoom(1).nodeHeight(d => 180).childrenMargin(d => 40).onNodeClick(d => console.log(d + \" node clicked\")).buttonContent(_ref => {\n      let {\n        node,\n        state\n      } = _ref;\n      return `<div style=\"border-radius:3px;padding:3px;font-size:10px;margin:auto auto;background-color:lightblue\"> <span style=\"font-size:9px\">${node.children ? `<i class=\"fas fa-chevron-up\"></i>` : `<i class=\"fas fa-chevron-down\"></i>`}</span> ${node.data._directSubordinates}  </div>`;\n    }).nodeContent(function (d, i, arr, state) {\n      if (i == 0) {\n        return `\n            <div style=\"padding-top:30px;background-color:none;margin-left:1px;height:${d.height - 100}px;border-radius:2px;overflow:visible\">\n              <div style=\"height:${d.height - 200}px;padding-top:0px;background-color:white;border:2px solid lightblue;border-radius:3%\">\n\n                <img src=\"${company}\" style=\"margin-top:-30px;margin-left:${d.width / 2 - 30}px;border-radius:100px;width:60px;height:60px;\" />\n              \n              <div style=\"margin-top:-30px;background-color:none;height:10px;width:${d.width - 2}px;border-radius:1px\"></div>\n\n              <div style=\"padding:20px; padding-top:35px;text-align:center\">\n                  <div style=\"color:#111672;font-size:25px;font-weight:bold\"> ISOKIT S.R.L </div>\n              </div> \n              \n              </div>     \n      </div>\n      `;\n      }\n\n      return `\n            <div style=\"padding-top:30px;background-color:none;margin-left:1px;height:${d.height}px;border-radius:2px;overflow:visible\">\n              <div style=\"height:${d.height - 32}px;padding-top:0px;background-color:white;border:2px solid lightblue;border-radius:3%\">\n\n                <img src=\"${user}\" style=\"margin-top:-30px;margin-left:${d.width / 2 - 30}px;border-radius:100px;width:60px;height:60px;\" />\n               \n               <div style=\"margin-top:-30px;background-color:none;height:10px;width:${d.width - 2}px;border-radius:1px\"></div>\n\n               <div style=\"padding:20px; padding-top:35px;text-align:center\">\n                   <div style=\"color:#111672;font-size:25px;font-weight:bold\"> Nome Cognome </div>\n                   <div style=\"color:#404040;font-size:19px;margin-top:4px\"> Ruolo </div>\n               </div> \n               <div style=\"display:flex;justify-content:center;padding-left:15px;padding-right:15px;\">\n\t\t\t   <div > Quota: ${i} %</div>    \n               </div>\n              </div>     \n      </div>\n  `;\n    }).render();\n  }\n\n}","map":{"version":3,"names":["React","Component","OrgChart","user","company","OrgChartComponent","constructor","props","createDiagram","bind","componentDidMount","json","dataTemplate","obj","JSON","parse","stringify","i","shareHolders","id","parentId","console","log","componentDidUpdate","prevProps","prevState","render","node","data","chart","container","svgWidth","initialZoom","nodeHeight","d","childrenMargin","onNodeClick","buttonContent","state","children","_directSubordinates","nodeContent","arr","height","width"],"sources":["/Users/marcomazzucato/Desktop/org-chart/src/grafico/components/OrgChart.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { OrgChart } from \"d3-org-chart\";\nimport user from \"./user-black-shape.png\";\nimport company from \"./home-page.png\";\n\n\nexport default class OrgChartComponent extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.createDiagram = this.createDiagram.bind(this);\n\t}\n\n\tcomponentDidMount() {\n    let json = this.props.dataTemplate;\n    const obj = JSON.parse(JSON.stringify(json));\n    for(var i=0; i<5; i++)\n    {obj.shareHolders[i].id = i;\n      obj.shareHolders[i].parentId = i - 1;\n    }\n    console.log(obj);\n\t\tthis.createDiagram();\n    console.log(this.props.dataTemplate.shareHolders);\n\n    \n\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tthis.createDiagram();\n\t}\n\n\trender() {\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div ref={(node) => (this.node = node)} />\n\t\t\t</div>\n\t\t);\n\t}\n\n\tcreateDiagram() {\n\t\tconst node = this.node;\n    if(!this.props.data){\n      return;\n    }\n    if (!this.chart) {\n      this.chart =  new OrgChart();\n    }\n     this.chart.container(node) \n        .data(this.props.data)\n        .svgWidth(500)\n        .initialZoom(1)\n\t\t.nodeHeight(d=> 180)\n\t\t.childrenMargin((d) => 40)\n        .onNodeClick(d => console.log(d + \" node clicked\"))\n        .buttonContent(({ node, state }) => {\n          return `<div style=\"border-radius:3px;padding:3px;font-size:10px;margin:auto auto;background-color:lightblue\"> <span style=\"font-size:9px\">${\n            node.children\n              ? `<i class=\"fas fa-chevron-up\"></i>`\n              : `<i class=\"fas fa-chevron-down\"></i>`\n          }</span> ${node.data._directSubordinates}  </div>`;\n        })\n\t\t.nodeContent(function (d, i, arr, state) {\n      if(i==0)\n            {return `\n            <div style=\"padding-top:30px;background-color:none;margin-left:1px;height:${\n              d.height -100\n            }px;border-radius:2px;overflow:visible\">\n              <div style=\"height:${\n                d.height - 200\n              }px;padding-top:0px;background-color:white;border:2px solid lightblue;border-radius:3%\">\n\n                <img src=\"${company}\" style=\"margin-top:-30px;margin-left:${d.width / 2 - 30}px;border-radius:100px;width:60px;height:60px;\" />\n              \n              <div style=\"margin-top:-30px;background-color:none;height:10px;width:${\n                d.width - 2\n              }px;border-radius:1px\"></div>\n\n              <div style=\"padding:20px; padding-top:35px;text-align:center\">\n                  <div style=\"color:#111672;font-size:25px;font-weight:bold\"> ISOKIT S.R.L </div>\n              </div> \n              \n              </div>     \n      </div>\n      `}\n            return `\n            <div style=\"padding-top:30px;background-color:none;margin-left:1px;height:${\n              d.height\n            }px;border-radius:2px;overflow:visible\">\n              <div style=\"height:${\n                d.height - 32\n              }px;padding-top:0px;background-color:white;border:2px solid lightblue;border-radius:3%\">\n\n                <img src=\"${user}\" style=\"margin-top:-30px;margin-left:${d.width / 2 - 30}px;border-radius:100px;width:60px;height:60px;\" />\n               \n               <div style=\"margin-top:-30px;background-color:none;height:10px;width:${\n                 d.width - 2\n               }px;border-radius:1px\"></div>\n\n               <div style=\"padding:20px; padding-top:35px;text-align:center\">\n                   <div style=\"color:#111672;font-size:25px;font-weight:bold\"> Nome Cognome </div>\n                   <div style=\"color:#404040;font-size:19px;margin-top:4px\"> Ruolo </div>\n               </div> \n               <div style=\"display:flex;justify-content:center;padding-left:15px;padding-right:15px;\">\n\t\t\t   <div > Quota: ${i} %</div>    \n               </div>\n              </div>     \n      </div>\n  `;\n          })\n        .render();\n\t}\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}